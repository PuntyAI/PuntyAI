{% extends "base.html" %}

{% block title %}How It Works - PuntyAI{% endblock %}

{% block content %}
<section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-8">
        <!-- Hero -->
        <div class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-heading font-bold mb-6">
                How <span style="color: var(--cyan);">Punty</span> Works
            </h1>
            <p class="text-xl" style="color: var(--text-secondary);">
                From morning tips to live race-day updates (spoiler: it's actually quite methodical)
            </p>
        </div>

        <!-- The Process -->
        <div class="space-y-12 mb-16">
            <!-- Step 1 -->
            <div class="card p-8">
                <div class="flex items-start gap-6">
                    <div class="w-16 h-16 flex-shrink-0 rounded-full flex items-center justify-center text-2xl font-display font-bold" style="background: var(--gradient-sunset);">
                        1
                    </div>
                    <div>
                        <h3 class="text-2xl font-heading font-bold mb-4">Data Collection</h3>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            Every morning, Punty wakes up and gets to work. He's got comprehensive
                            data rattling around in his brain for every race meeting:
                        </p>
                        <ul class="grid md:grid-cols-2 gap-2 text-sm" style="color: var(--text-secondary);">
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Full form history for every runner
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Jockey and trainer statistics
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Track conditions and weather
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Barrier draws and rail positions
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Speed maps and pace predictions
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Market movements and odds
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Gear changes and comments
                            </li>
                            <li class="flex items-center gap-2">
                                <span style="color: var(--magenta);">→</span> Sectional times and ratings
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="card p-8">
                <div class="flex items-start gap-6">
                    <div class="w-16 h-16 flex-shrink-0 rounded-full flex items-center justify-center text-2xl font-display font-bold" style="background: var(--gradient-sunset);">
                        2
                    </div>
                    <div>
                        <h3 class="text-2xl font-heading font-bold mb-4">AI Analysis</h3>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            Punty's AI engine processes all this data using a weighted analysis framework.
                            Different factors carry different importance depending on the race conditions:
                        </p>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="p-4 rounded-lg" style="background: rgba(233, 30, 140, 0.1);">
                                <div class="font-heading font-bold mb-2" style="color: var(--magenta);">High Priority</div>
                                <ul class="text-sm space-y-1" style="color: var(--text-secondary);">
                                    <li>• Recent Form</li>
                                    <li>• Class Assessment</li>
                                    <li>• Track/Distance Fit</li>
                                    <li>• Speed Map Position</li>
                                </ul>
                            </div>
                            <div class="p-4 rounded-lg" style="background: rgba(0, 212, 255, 0.1);">
                                <div class="font-heading font-bold mb-2" style="color: var(--cyan);">Contextual Factors</div>
                                <ul class="text-sm space-y-1" style="color: var(--text-secondary);">
                                    <li>• Barrier Draw + Bias</li>
                                    <li>• Jockey/Trainer Stats</li>
                                    <li>• First/Second Up</li>
                                    <li>• Gear Changes</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="card p-8">
                <div class="flex items-start gap-6">
                    <div class="w-16 h-16 flex-shrink-0 rounded-full flex items-center justify-center text-2xl font-display font-bold" style="background: var(--gradient-sunset);">
                        3
                    </div>
                    <div>
                        <h3 class="text-2xl font-heading font-bold mb-4">Selection Output</h3>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            For each race, Punty outputs a structured selection set:
                        </p>
                        <div class="space-y-3">
                            <div class="flex items-center gap-3">
                                <span class="px-3 py-1 rounded text-sm font-bold" style="background: var(--magenta); color: white;">TOP PICK</span>
                                <span style="color: var(--text-secondary);">The horse Punty rates highest - backed with conviction</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="px-3 py-1 rounded text-sm font-bold" style="background: rgba(0, 212, 255, 0.2); color: var(--cyan);">2ND</span>
                                <span style="color: var(--text-secondary);">Strong contender, often the main danger</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="px-3 py-1 rounded text-sm font-bold" style="background: rgba(255, 193, 7, 0.2); color: var(--yellow);">3RD</span>
                                <span style="color: var(--text-secondary);">Capable of running into the placings</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="px-3 py-1 rounded text-sm font-bold" style="background: rgba(157, 78, 221, 0.2); color: var(--purple);">ROUGHIE</span>
                                <span style="color: var(--text-secondary);">Value pick at longer odds - can upset</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="card p-8">
                <div class="flex items-start gap-6">
                    <div class="w-16 h-16 flex-shrink-0 rounded-full flex items-center justify-center text-2xl font-display font-bold" style="background: var(--gradient-sunset);">
                        4
                    </div>
                    <div>
                        <h3 class="text-2xl font-heading font-bold mb-4">Daily Early Mail</h3>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            Each morning, Punty publishes the "Early Mail" - a complete rundown of every
                            race at selected meetings. This includes:
                        </p>
                        <ul class="space-y-2 text-sm" style="color: var(--text-secondary);">
                            <li class="flex items-start gap-2">
                                <span style="color: var(--magenta);">→</span>
                                <span><strong class="text-white">Big 3:</strong> Punty's three most confident picks of the day, combined into a multi</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span style="color: var(--magenta);">→</span>
                                <span><strong class="text-white">Race-by-Race:</strong> Top 3 + Roughie for every race with brief analysis</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span style="color: var(--magenta);">→</span>
                                <span><strong class="text-white">Exotics:</strong> Trifecta and exacta boxes where value presents</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span style="color: var(--magenta);">→</span>
                                <span><strong class="text-white">Quaddie:</strong> Multiple coverage options for the quaddie legs</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Step 5 -->
            <div class="card p-8" style="border: 1px solid rgba(255, 107, 53, 0.2); background: linear-gradient(135deg, var(--bg-card), rgba(255, 107, 53, 0.03));">
                <div class="flex items-start gap-6">
                    <div class="w-16 h-16 flex-shrink-0 rounded-full flex items-center justify-center text-2xl font-display font-bold" style="background: var(--gradient-sunset);">
                        5
                    </div>
                    <div>
                        <div class="flex items-center gap-3 mb-4">
                            <h3 class="text-2xl font-heading font-bold">Live Race-Day Updates</h3>
                            <span class="inline-flex items-center text-[10px] font-heading font-bold uppercase tracking-widest px-2 py-0.5 rounded" style="background: var(--gradient-sunset); color: #fff; letter-spacing: 0.12em;">NEW</span>
                        </div>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            Punty doesn't clock off after the early mail. He watches every race live,
                            tracking how the track is riding compared to his speed map reads.
                        </p>
                        <ul class="space-y-2 text-sm" style="color: var(--text-secondary);">
                            <li class="flex items-start gap-2">
                                <span style="color: var(--orange);">&#x1F3C7;</span>
                                <span><strong class="text-white">Win Celebrations:</strong> When a big-priced pick salutes, Punty lets you know with a live celebration post</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span style="color: var(--orange);">&#x1F3C1;</span>
                                <span><strong class="text-white">Pace Analysis:</strong> After enough races, Punty reads the track bias and tells you if the speed map predictions are holding up or if you need to adjust your quaddie legs</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span style="color: var(--orange);">&#x2705;</span>
                                <span><strong class="text-white">Win Ticks:</strong> Winning selections get a green tick right on the tips page so you can see what hit at a glance</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Step 6 -->
            <div class="card p-8">
                <div class="flex items-start gap-6">
                    <div class="w-16 h-16 flex-shrink-0 rounded-full flex items-center justify-center text-2xl font-display font-bold" style="background: var(--gradient-sunset);">
                        6
                    </div>
                    <div>
                        <h3 class="text-2xl font-heading font-bold mb-4">Results & Accountability</h3>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            After the races, Punty tracks every result and publishes "The Wrap" -
                            a full breakdown of how the day went. No hiding from bad days, no
                            selective memory. Just honest reporting.
                        </p>
                        <p class="mb-4" style="color: var(--text-secondary);">
                            Every winner is recorded. Every loss is owned. That's how you know
                            you're getting the real picture, not some curated highlight reel.
                        </p>
                        <p style="color: var(--text-secondary);">
                            Want to see the numbers yourself?
                            <a href="/stats" class="font-semibold hover:text-white transition-colors" style="color: var(--cyan);">Check Punty's Stats page</a>
                            &mdash; filter by venue, distance, track condition, jockey, trainer, and more to see exactly
                            how each bet type performs. Full transparency, no hiding.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- How to Use Punty's Tips -->
        <div class="mb-16">
            <h2 class="text-2xl font-heading font-bold mb-8 text-center">
                How to Use <span style="color: var(--magenta);">Punty's Tips</span>
            </h2>

            <div class="card p-8 mb-6">
                <h3 class="text-xl font-heading font-bold mb-4" style="color: var(--cyan);">Punty gives you options, not orders</h3>
                <p class="mb-4" style="color: var(--text-secondary);">
                    Punty was built to give you information and betting options - not to be followed blindly on every bet.
                    If you backed every single pick across every race, you'd lose. That's not how racing works,
                    and it's not how Punty is designed to be used.
                </p>
                <p style="color: var(--text-secondary);">
                    Think of Punty as your well-researched mate at the pub who's done the form.
                    He gives you the intel - you decide what to back based on your own read.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="card p-6">
                    <h4 class="font-heading font-bold text-lg mb-3" style="color: var(--magenta);">Race-by-Race Picks</h4>
                    <p class="text-sm mb-3" style="color: var(--text-secondary);">
                        Each race shows a Top 3 + Roughie. You don't need to bet all four.
                        Punty highlights his recommended pick - the one he'd back with the most conviction.
                    </p>
                    <ul class="text-sm space-y-2" style="color: var(--text-secondary);">
                        <li class="flex items-start gap-2">
                            <span style="color: var(--magenta);">&#x2192;</span>
                            <span><strong class="text-white">Win bet</strong> on your top pick - the one you agree with most</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span style="color: var(--magenta);">&#x2192;</span>
                            <span><strong class="text-white">Saver or Place</strong> on a second pick if you want coverage</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span style="color: var(--magenta);">&#x2192;</span>
                            <span>You don't need to bet all four - pick what makes sense to you</span>
                        </li>
                    </ul>
                </div>

                <div class="card p-6">
                    <h4 class="font-heading font-bold text-lg mb-3" style="color: var(--cyan);">Sequence Bets (Quaddie/Big 6)</h4>
                    <p class="text-sm mb-3" style="color: var(--text-secondary);">
                        Punty provides three variants for each sequence - Skinny, Balanced, and Wide.
                        You wouldn't do all three. Pick the one that suits your read and your bankroll.
                    </p>
                    <ul class="text-sm space-y-2" style="color: var(--text-secondary);">
                        <li class="flex items-start gap-2">
                            <span style="color: var(--cyan);">&#x2192;</span>
                            <span><strong class="text-white">Skinny ($1)</strong> - when you're confident in the favourites</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span style="color: var(--cyan);">&#x2192;</span>
                            <span><strong class="text-white">Balanced ($50)</strong> - the sweet spot for most meetings</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span style="color: var(--cyan);">&#x2192;</span>
                            <span><strong class="text-white">Wide ($100)</strong> - only when there's genuine uncertainty across legs</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card p-6 mt-6">
                <h4 class="font-heading font-bold text-lg mb-3" style="color: var(--yellow);">Punty's Bet Types</h4>
                <p class="text-sm mb-4" style="color: var(--text-secondary);">
                    For each selection, Punty assigns a bet type based on how confident he is and what offers the best value.
                    Here's what each one means:
                </p>
                <div class="grid sm:grid-cols-2 gap-3">
                    <div class="p-3 rounded-lg" style="background: rgba(233, 30, 140, 0.06); border: 1px solid rgba(233, 30, 140, 0.15);">
                        <div class="font-heading font-bold text-sm mb-1" style="color: var(--magenta);">Win</div>
                        <p class="text-xs" style="color: var(--text-secondary);">Straight win bet. Punty reckons this horse is winning. Pays only if it finishes first.</p>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(0, 212, 255, 0.06); border: 1px solid rgba(0, 212, 255, 0.15);">
                        <div class="font-heading font-bold text-sm mb-1" style="color: var(--cyan);">Saver Win</div>
                        <p class="text-xs" style="color: var(--text-secondary);">A smaller win bet to stay involved without going too deep. Used when Punty likes a horse but isn't fully convinced.</p>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(255, 193, 7, 0.06); border: 1px solid rgba(255, 193, 7, 0.15);">
                        <div class="font-heading font-bold text-sm mb-1" style="color: var(--yellow);">Place</div>
                        <p class="text-xs" style="color: var(--text-secondary);">Pays if the horse finishes in the top 3. Lower return than a win bet, but much better chance of collecting.</p>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(157, 78, 221, 0.06); border: 1px solid rgba(157, 78, 221, 0.15);">
                        <div class="font-heading font-bold text-sm mb-1" style="color: var(--purple);">Each Way</div>
                        <p class="text-xs" style="color: var(--text-secondary);">Half on win, half on place. If it wins, both halves pay. If it places, you lose the win half but collect on the place half.</p>
                    </div>
                </div>
                <p class="text-xs mt-4" style="color: var(--text-muted);">
                    Punty also picks exotics (Exacta, Trifecta, Quinella) where the race shape suggests value in combining runners.
                    These are higher risk, higher reward.
                </p>
            </div>

            <div class="card p-6 mt-6" style="background: linear-gradient(135deg, rgba(233, 30, 140, 0.06), rgba(0, 212, 255, 0.06));">
                <h4 class="font-heading font-bold text-lg mb-3" style="color: var(--orange);">Check the Stats First</h4>
                <p class="text-sm mb-4" style="color: var(--text-secondary);">
                    Before you back a bet type, check how it's been performing.
                    Punty's Place bets might be flying at Flemington but struggling at Randwick.
                    The <a href="/stats" class="font-semibold hover:text-white transition-colors" style="color: var(--cyan);">Stats page</a>
                    lets you filter by track, distance, conditions, jockey, trainer, and more &mdash;
                    use it to make smarter decisions about which picks to follow.
                </p>
                <a href="/stats" class="btn-secondary inline-flex items-center gap-2 text-sm" style="padding: 0.5rem 1.25rem;">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
                    View Punty's Stats
                </a>
            </div>

            <div class="card p-6 mt-6 text-center" style="background: rgba(255, 255, 255, 0.02); border: 1px solid var(--border-subtle);">
                <p class="text-sm" style="color: var(--text-secondary);">
                    <strong class="text-white">Bottom line:</strong> Use Punty as a starting point for your own punting decisions.
                    The analysis, speed maps, and form are all there - your job is to pick the bets that make sense to you.
                    Don't bet what you can't afford to lose, and never chase losses.
                </p>
            </div>
        </div>

        <!-- FAQ -->
        <div class="mb-16">
            <h2 class="text-2xl font-heading font-bold mb-8 text-center">Frequently Asked Questions</h2>

            <div class="space-y-4">
                <div class="card p-6">
                    <h3 class="font-heading font-bold text-lg mb-2" style="color: var(--cyan);">Is Punty always right?</h3>
                    <p style="color: var(--text-secondary);">
                        Fuck no. Anyone who claims to always be right is lying to you. Horse racing
                        is unpredictable - that's what makes it exciting. Punty aims for consistent
                        value over time, not perfection.
                    </p>
                </div>

                <div class="card p-6">
                    <h3 class="font-heading font-bold text-lg mb-2" style="color: var(--cyan);">How much should I bet?</h3>
                    <p style="color: var(--text-secondary);">
                        Only what you can afford to lose. Seriously. Punty provides analysis and picks,
                        but you're responsible for your own bankroll management. If you're betting the
                        rent money, you've got bigger problems than which horse to back.
                    </p>
                </div>

                <div class="card p-6">
                    <h3 class="font-heading font-bold text-lg mb-2" style="color: var(--cyan);">Why is it free?</h3>
                    <p style="color: var(--text-secondary);">
                        For now, we're building the audience and proving the model works. Premium
                        features are coming - but the core picks will always be accessible.
                    </p>
                </div>
            </div>
        </div>

        <!-- CTA -->
        <div class="text-center">
            <a href="https://x.com/PuntyAI/" target="_blank" class="btn-primary inline-flex items-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                Get Daily Tips on X
            </a>
        </div>
    </div>
</section>
{% endblock %}
