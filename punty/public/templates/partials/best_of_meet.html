{# Best of Each Meet â€” winner, roughie, exotic per meeting #}
{% if best_of %}
<div>
    <h2 class="section-heading">
        <svg class="w-5 h-5" style="color: var(--yellow);" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>
        Best Of Each Meet
    </h2>
    <div class="space-y-4">
        {% for mid, data in best_of.items() %}
        <div class="card p-4">
            <div class="flex items-center justify-between mb-3">
                <a href="/tips/{{ data.meeting_id }}" class="font-heading font-bold text-white hover:text-punty-mbright transition-colors">
                    {{ data.venue }}
                </a>
                <span class="state-badge state-{{ data.state|lower }}">{{ data.state }}</span>
            </div>

            {# Best Winner #}
            <div class="bom-slot mb-2">
                <div class="bom-label" style="color: var(--magenta);">
                    <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                    Best Pick
                </div>
                {% if data.best_winner %}
                <div class="bom-content">
                    <span class="font-heading font-bold text-white">{{ data.best_winner.horse }}</span>
                    <span class="text-xs" style="color: var(--text-muted);">R{{ data.best_winner.race }}</span>
                    {% if data.best_winner.odds %}
                    <span class="font-heading font-bold text-sm" style="color: var(--cyan);">${{ '%.2f'|format(data.best_winner.odds) }}</span>
                    {% endif %}
                    <span class="type-badge type-selection">{{ data.best_winner.bet_type }}</span>
                    {% if data.best_winner.is_puntys_pick %}
                    <span class="pp-badge">PP</span>
                    {% endif %}
                </div>
                {% else %}
                <div class="text-xs" style="color: var(--text-muted);">No standout pick</div>
                {% endif %}
            </div>

            {# Roughie #}
            <div class="bom-slot mb-2">
                <div class="bom-label" style="color: var(--purple);">
                    <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"/></svg>
                    Roughie
                </div>
                {% if data.roughie %}
                <div class="bom-content">
                    <span class="font-heading font-bold text-white">{{ data.roughie.horse }}</span>
                    <span class="text-xs" style="color: var(--text-muted);">R{{ data.roughie.race }}</span>
                    {% if data.roughie.odds %}
                    <span class="font-heading font-bold text-sm" style="color: var(--purple);">${{ '%.2f'|format(data.roughie.odds) }}</span>
                    {% endif %}
                </div>
                {% else %}
                <div class="text-xs" style="color: var(--text-muted);">No roughie today</div>
                {% endif %}
            </div>

            {# Exotic #}
            <div class="bom-slot">
                <div class="bom-label" style="color: var(--cyan);">
                    <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path d="M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744l.311 1.242 1.242.311a1 1 0 010 1.932l-1.242.311-.311 1.242a1 1 0 01-1.934 0l-.311-1.242-1.242-.311a1 1 0 010-1.932l1.242-.311.311-1.242A1 1 0 0112 2z"/></svg>
                    Exotic
                </div>
                {% if data.exotic %}
                <div class="bom-content">
                    <span class="font-heading font-bold text-white">{{ data.exotic.type }}</span>
                    <span class="text-xs" style="color: var(--text-muted);">R{{ data.exotic.race }}</span>
                    {% if data.exotic.runners %}
                    <span class="text-xs text-white">[{{ data.exotic.runners|join(', ') }}]</span>
                    {% endif %}
                    {% if data.exotic.stake %}
                    <span class="text-xs" style="color: var(--text-muted);">${{ '%.0f'|format(data.exotic.stake) }}</span>
                    {% endif %}
                </div>
                {% else %}
                <div class="text-xs" style="color: var(--text-muted);">No exotic</div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
