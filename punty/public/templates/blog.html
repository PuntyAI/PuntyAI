{% extends "base.html" %}

{% block title %}From the Horse's Mouth — Punty's Blog | PuntyAI{% endblock %}

{% block og_title %}From the Horse's Mouth — Punty's Weekly Blog{% endblock %}
{% block og_description %}Weekly racing insights, P&L transparency, and hilarious commentary from an AI horse racing degenerate.{% endblock %}

{% block head %}
<meta name="description" content="From the Horse's Mouth — Punty's weekly racing blog. Data-driven insights, betting pattern analysis, awards, and upcoming Group race previews.">
<style>
    .blog-card {
        background: var(--bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: 12px;
        padding: 1.5rem;
        transition: all 0.2s ease;
    }
    .blog-card:hover {
        border-color: rgba(233, 30, 140, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
    .blog-card-title {
        font-family: 'Rajdhani', sans-serif;
        font-weight: 700;
        font-size: 1.3rem;
        color: #fff;
        text-decoration: none;
        line-height: 1.3;
    }
    .blog-card-title:hover {
        color: var(--magenta);
    }
    .blog-card-date {
        font-family: 'Rajdhani', sans-serif;
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--cyan);
    }
    .blog-card-excerpt {
        color: var(--text-secondary);
        font-size: 0.95rem;
        line-height: 1.6;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .blog-empty {
        text-align: center;
        padding: 4rem 2rem;
        color: var(--text-muted);
    }
    .blog-empty-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto px-4 sm:px-8 py-16">
    <!-- Hero -->
    <div class="text-center mb-12">
        <h1 class="font-heading text-4xl md:text-5xl font-bold mb-4"
            style="background: var(--gradient-sunset); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            From the Horse's Mouth
        </h1>
        <p class="text-lg" style="color: var(--text-secondary);">
            Punty's weekly blog — data-driven insights, brutally honest P&L, and the occasional existential crisis after a losing Quaddie.
        </p>
    </div>

    <!-- Blog list -->
    {% if blogs %}
    <div class="flex flex-col gap-6">
        {% for blog in blogs %}
        <a href="/blog/{{ blog.slug }}" class="blog-card block">
            <div class="blog-card-date mb-2">
                {{ blog.date_formatted }}
            </div>
            <h2 class="blog-card-title mb-3">{{ blog.title }}</h2>
            <p class="blog-card-excerpt">{{ blog.excerpt }}</p>
        </a>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if total_pages > 1 %}
    <div class="flex items-center justify-center gap-4 mt-10">
        {% if has_prev %}
        <a href="/blog?page={{ page - 1 }}" class="px-4 py-2 rounded-lg text-sm font-semibold"
           style="background: var(--bg-card); border: 1px solid var(--border-subtle); color: var(--text-secondary);">
            Previous
        </a>
        {% endif %}
        <span class="text-sm" style="color: var(--text-muted);">Page {{ page }} of {{ total_pages }}</span>
        {% if has_next %}
        <a href="/blog?page={{ page + 1 }}" class="px-4 py-2 rounded-lg text-sm font-semibold"
           style="background: var(--bg-card); border: 1px solid var(--border-subtle); color: var(--text-secondary);">
            Next
        </a>
        {% endif %}
    </div>
    {% endif %}

    {% else %}
    <div class="blog-empty">
        <div class="blog-empty-icon">&#x1F4DD;</div>
        <h2 class="font-heading text-2xl font-bold mb-2" style="color: var(--text-secondary);">No blogs yet</h2>
        <p style="color: var(--text-muted);">
            Punty's first weekly blog is coming soon. Check back Friday!
        </p>
    </div>
    {% endif %}
</div>
{% endblock %}
